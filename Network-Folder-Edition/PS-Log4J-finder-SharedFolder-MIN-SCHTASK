powershell -Command "$ErrorActionPreference='SILENTLYCONTINUE';$networklocation='\\server\share';del \"%TEMP%\\log4j1.log\";del \"%TEMP%\\log4j2.log\";del \"%TEMP%\\log4j3.log\";get-wmiobject win32_volume|? {$_.DriveType-eq3}|% {(Get-Psdrive  $_.DriveLetter[0]).Name}|Foreach {$command='findstr /i /s /m \"SocketServer.class JndiLookup.class\" {0}:\*.jar >> \"%TEMP%\\log4j1.log\" | findstr /i /s /m \"SocketServer.class JndiLookup.class\" {0}:\*.war >> \"%TEMP%\\log4j2.log\"| findstr /i /s /m \"SocketServer.class JndiLookup.class\" {0}:\*log4j*.dll  >> \"%TEMP%\\log4j3.log\"| findstr /i /s /m \"SocketServer.class JndiLookup.class\" {0}:\*.ear  >> \"%TEMP%\\log4j4.log\"'-f$_;cmd /c $command};$jar=Get-Content -Path ($Env:TEMP + '\log4j1.log');$war=Get-Content -Path ($Env:TEMP + '\log4j2.log');$dll=Get-Content -Path ($Env:TEMP + '\log4j3.log');$ear=Get-Content -Path ($Env:TEMP + '\log4j4.log');if($jar){Get-Content -Path ($Env:TEMP + '\log4j1.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-jar-FOUND.log')}else{Get-Content -Path ($Env:TEMP + '\log4j1.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-jar-NOTF.log')};if($war){Get-Content -Path ($Env:TEMP + '\log4j2.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-war-FOUND.log')}else{Get-Content -Path ($Env:TEMP + '\log4j2.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-war-NOTF.log')};if($dll){Get-Content -Path ($Env:TEMP + '\log4j3.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-dll-FOUND.log')}else{Get-Content -Path ($Env:TEMP + '\log4j3.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-dll-NOTF.log')};if($ear){Get-Content -Path ($Env:TEMP + '\log4j4.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-ear-FOUND.log')}else{Get-Content -Path ($Env:TEMP + '\log4j4.log')|Out-file ($networklocation + '\' + $Env:COMPUTERNAME + '-log4j-ear-NOTF.log')}"